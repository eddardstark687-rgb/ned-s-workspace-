<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLAMES Game</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 400px; margin: 50px auto; padding: 20px; }
        input { width: 100%; padding: 8px; margin: 5px 0; }
        button { width: 100%; padding: 10px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        #result { margin-top: 20px; font-size: 18px; text-align: center; }
    </style>
</head>
<body>
    <h1>FLAMES Calculator</h1>
    <label for="name1">Enter your name:</label>
    <input type="text" id="name1" placeholder="e.g., John">
    
    <label for="name2">Enter your crush's name:</label>
    <input type="text" id="name2" placeholder="e.g., Jane">
    
    <button onclick="calculateFlames()">Calculate FLAMES</button>
    
    <div id="result"></div>

    <script>
        function calculateFlames() {
            const name1 = document.getElementById('name1').value.trim();
            const name2 = document.getElementById('name2').value.trim();
            
            if (!name1 || !name2) {
                document.getElementById('result').innerHTML = '<p style="color: red;">Please enter both names!</p>';
                return;
            }
            
            // Remove spaces
            let cleanName1 = name1.replace(/\s/g, '');
            let cleanName2 = name2.replace(/\s/g, '');
            
            // Count frequencies
            let count1 = {};
            for (let char of cleanName1) {
                count1[char] = (count1[char] || 0) + 1;
            }
            let count2 = {};
            for (let char of cleanName2) {
                count2[char] = (count2[char] || 0) + 1;
            }
            
            // Get all unique characters
            let allChars = new Set([...Object.keys(count1), ...Object.keys(count2)]);
            
            // Compute remaining unique letters (surplus after removing commons)
            let remainingSet = new Set();
            for (let char of allChars) {
                let c1 = count1[char] || 0;
                let c2 = count2[char] || 0;
                let minC = Math.min(c1, c2);
                if (c1 > minC || c2 > minC) {
                    remainingSet.add(char);
                }
            }
            
            let l = remainingSet.size;
            
            // FLAMES elimination
            let flames = ['f', 'l', 'a', 'm', 'e', 's'];
            let currentL = l;
            while (flames.length > 1) {
                let temp = flames.length;
                let idx;
                if (currentL <= temp) {
                    idx = currentL - 1;
                    if (idx < 0) idx = temp - 1;
                } else {
                    currentL = currentL % temp;
                    idx = currentL - 1;
                    if (idx < 0) idx = temp - 1;
                }
                flames.splice(idx, 1);
            }
            
            // Determine meaning
            let result = flames[0];
            let meaning;
            switch (result) {
                case 'f': meaning = 'Friends'; break;
                case 'l': meaning = 'Lovers'; break;
                case 'a': meaning = 'Affection'; break;
                case 'm': meaning = 'Marriage'; break;
                case 'e': meaning = 'Enemy'; break;
                default: meaning = 'Siblings';
            }
            
            document.getElementById('result').innerHTML = `
                <h2 style="color: #4CAF50;">You two are ${meaning}!</h2>
                <p>Unique letters count: ${l}</p>
            `;
        }
    </script>
</body>
</html>
